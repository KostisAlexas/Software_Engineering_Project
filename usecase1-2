@startuml

actor Χρήστης

' === Use Case 1: Εγγραφή Χρήστη ===

boundary ΦόρμαΕγγραφής
boundary ΟθόνηΕπιβεβαίωσηςEmail

control ΕπεξεργάζεταιΑίτημαΕγγραφής
control ΕλέγχειΔιαθεσιμότηταEmail
control ΔημιουργείΛογαριασμό
control ΣτέλνειEmailΕπιβεβαίωσης
control ΕπιβεβαιώνειΛογαριασμό

entity ΛογαριασμόςΧρήστη
entity ΚωδικόςΕπιβεβαίωσης

Χρήστης --> ΦόρμαΕγγραφής : εισάγει στοιχεία εγγραφής
ΦόρμαΕγγραφής --> ΕπεξεργάζεταιΑίτημαΕγγραφής : αποστέλλει δεδομένα

ΕπεξεργάζεταιΑίτημαΕγγραφής --> ΕλέγχειΔιαθεσιμότηταEmail : ελέγχει email
EλέγχειΔιαθεσιμότηταEmail --> ΛογαριασμόςΧρήστη : αναζητεί email

' Εναλλακτική Ροή 1: Email σε χρήση
EλέγχειΔιαθεσιμότηταEmail --> ΦόρμαΕγγραφής : [αν υπάρχει] εμφανίζει μήνυμα σφάλματος
' Τέλος Εναλλακτικής Ροής 1

EλέγχειΔιαθεσιμότηταEmail --> ΔημιουργείΛογαριασμό : [αν ΔΕΝ υπάρχει] προχωρά σε δημιουργία
ΔημιουργείΛογαριασμό --> ΛογαριασμόςΧρήστη : δημιουργεί νέο λογαριασμό

ΕπεξεργάζεταιΑίτημαΕγγραφής --> ΣτέλνειEmailΕπιβεβαίωσης : στέλνει σύνδεσμο
ΣτέλνειEmailΕπιβεβαίωσης --> ΚωδικόςΕπιβεβαίωσης : δημιουργεί token
ΣτέλνειEmailΕπιβεβαίωσης --> ΟθόνηΕπιβεβαίωσηςEmail : εμφανίζει ειδοποίηση

Χρήστης --> ΟθόνηΕπιβεβαίωσηςEmail : επιλέγει σύνδεσμο επιβεβαίωσης
ΟθόνηΕπιβεβαίωσηςEmail --> ΕπιβεβαιώνειΛογαριασμό : αποστέλλει token
ΕπιβεβαιώνειΛογαριασμό --> ΚωδικόςΕπιβεβαίωσης : επαληθεύει

' Εναλλακτική Ροή 2: Δεν πατήθηκε σύνδεσμος
ΕπιβεβαιώνειΛογαριασμό --> ΟθόνηΕπιβεβαίωσηςEmail : [αν token λείπει ή ληγμένος] ενημερώνει χρήστη και δίνει επιλογή νέας αποστολής
' Τέλος Εναλλακτικής Ροής 2

ΕπιβεβαιώνειΛογαριασμό --> ΛογαριασμόςΧρήστη : ενεργοποιεί λογαριασμό

' === Use Case 2: Καταχώρηση Προσωπικών Δεδομένων ===

boundary ΦόρμαΠροσωπικώνΔεδομένων
boundary ΟθόνηΜηνύματοςΕπιτυχίας
boundary ΟθόνηΛάθους
boundary ΟθόνηΕπιβεβαίωσηςΑκύρωσης
boundary ΑρχικήΟθόνηΠροφίλ

control ΕπεξεργάζεταιΚαταχώρηση
control ΕλέγχειΚενάΠεδία
control ΕλέγχειΕγκυρότηταΤιμών
control ΑποθηκεύειΔεδομένα
control ΑκυρώνειΤροποποίηση

entity ΠροσωπικάΔεδομένα

Χρήστης --> ΦόρμαΠροσωπικώνΔεδομένων : συμπληρώνει ή επεξεργάζεται στοιχεία
ΦόρμαΠροσωπικώνΔεδομένων --> ΕπεξεργάζεταιΚαταχώρηση : υποβάλλει αίτημα

ΕπεξεργάζεταιΚαταχώρηση --> ΕλέγχειΚενάΠεδία : έλεγχος πληρότητας
ΕλέγχειΚενάΠεδία --> ΟθόνηΛάθους : [αν υπάρχουν κενά] εμφανίζει λάθος

ΕλέγχειΚενάΠεδία --> ΕλέγχειΕγκυρότηταΤιμών : [αν πλήρη] ελέγχει εγκυρότητα
ΕλέγχειΕγκυρότηταΤιμών --> ΟθόνηΛάθους : [αν τιμές μη έγκυρες] εμφανίζει σφάλμα

ΕλέγχειΕγκυρότηταΤιμών --> ΑποθηκεύειΔεδομένα : [αν έγκυρες] προχωρά σε αποθήκευση
ΑποθηκεύειΔεδομένα --> ΠροσωπικάΔεδομένα : ενημερώνει πληροφορίες
ΑποθηκεύειΔεδομένα --> ΟθόνηΜηνύματοςΕπιτυχίας : εμφανίζει επιτυχία
ΟθόνηΜηνύματοςΕπιτυχίας --> ΑρχικήΟθόνηΠροφίλ : επιστρέφει προφίλ

' Εναλλακτική Ροή: Ο χρήστης ακυρώνει
Χρήστης --> ΟθόνηΕπιβεβαίωσηςΑκύρωσης : επιλέγει ακύρωση
ΟθόνηΕπιβεβαίωσηςΑκύρωσης --> ΑκυρώνειΤροποποίηση : απορρίπτει αλλαγές
ΑκυρώνειΤροποποίηση --> ΑρχικήΟθόνηΠροφίλ : επιστρέφει χωρίς αλλαγές

@enduml
